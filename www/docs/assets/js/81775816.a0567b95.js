"use strict";(globalThis.webpackChunkdocs_v_2=globalThis.webpackChunkdocs_v_2||[]).push([[58],{3785(e,s,l){l.r(s),l.d(s,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"extras/migration-guide","title":"Migration Guide: v4 to v5","description":"This guide will help you migrate from Locomotive Scroll v4 to v5. Version 5 is a complete rewrite built on Lenis, offering better performance, smaller bundle size, and improved TypeScript support.","source":"@site/docs/extras/migration-guide.md","sourceDirName":"extras","slug":"/extras/migration-guide","permalink":"/extras/migration-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/extras/migration-guide.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"Examples","permalink":"/examples"},"next":{"title":"Limitations","permalink":"/extras/limitations"}}');var i=l(4848),r=l(8453);const d={sidebar_position:1},c="Migration Guide: v4 to v5",t={},o=[{value:"Overview of Changes",id:"overview-of-changes",level:2},{value:"What&#39;s New",id:"whats-new",level:3},{value:"What&#39;s Removed",id:"whats-removed",level:3},{value:"Installation",id:"installation",level:2},{value:"v4",id:"v4",level:3},{value:"v5",id:"v5",level:3},{value:"Basic Setup",id:"basic-setup",level:2},{value:"v4: Required Container",id:"v4-required-container",level:3},{value:"v5: Simpler Setup",id:"v5-simpler-setup",level:3},{value:"Instance Options",id:"instance-options",level:2},{value:"v4 \u2192 v5 Mapping",id:"v4--v5-mapping",level:3},{value:"v4 Example",id:"v4-example",level:3},{value:"v5 Equivalent",id:"v5-equivalent",level:3},{value:"Data Attributes",id:"data-attributes",level:2},{value:"Removed Attributes",id:"removed-attributes",level:3},{value:"Modified Attributes",id:"modified-attributes",level:3},{value:"New Attributes",id:"new-attributes",level:3},{value:"Parallax",id:"parallax",level:2},{value:"v4",id:"v4-1",level:3},{value:"v5",id:"v5-1",level:3},{value:"How <code>data-scroll-speed</code> Works in v5",id:"how-data-scroll-speed-works-in-v5",level:3},{value:"Events &amp; Callbacks",id:"events--callbacks",level:2},{value:"v4: ModularJS Integration",id:"v4-modularjs-integration",level:3},{value:"v5: Native CustomEvents",id:"v5-native-customevents",level:3},{value:"Scroll Events",id:"scroll-events",level:2},{value:"v4",id:"v4-2",level:3},{value:"v5",id:"v5-2",level:3},{value:"Progress Tracking",id:"progress-tracking",level:2},{value:"v4: Using <code>data-scroll-id</code>",id:"v4-using-data-scroll-id",level:3},{value:"v5: Using Progress Events",id:"v5-using-progress-events",level:3},{value:"v5: Using CSS Variables",id:"v5-using-css-variables",level:3},{value:"Methods",id:"methods",level:2},{value:"Updated Methods",id:"updated-methods",level:3},{value:"v4",id:"v4-3",level:3},{value:"v5",id:"v5-3",level:3},{value:"Sticky Elements",id:"sticky-elements",level:2},{value:"v4: Using <code>data-scroll-sticky</code>",id:"v4-using-data-scroll-sticky",level:3},{value:"v5: Use CSS <code>position: sticky</code>",id:"v5-use-css-position-sticky",level:3},{value:"Custom Scroll Containers",id:"custom-scroll-containers",level:2},{value:"v4: Not Supported",id:"v4-not-supported",level:3},{value:"v5: Fully Supported",id:"v5-fully-supported",level:3},{value:"Performance Improvements",id:"performance-improvements",level:2},{value:"v4 Performance Patterns",id:"v4-performance-patterns",level:3},{value:"v5 Performance (Automatic)",id:"v5-performance-automatic",level:3},{value:"Complete Migration Checklist",id:"complete-migration-checklist",level:2},{value:"HTML Changes",id:"html-changes",level:3},{value:"JavaScript Changes",id:"javascript-changes",level:3},{value:"CSS Changes",id:"css-changes",level:3},{value:"Example: Complete v4 to v5 Migration",id:"example-complete-v4-to-v5-migration",level:2},{value:"Before (v4)",id:"before-v4",level:3},{value:"After (v5)",id:"after-v5",level:3},{value:"Need Help?",id:"need-help",level:2}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"migration-guide-v4-to-v5",children:"Migration Guide: v4 to v5"})}),"\n",(0,i.jsxs)(s.p,{children:["This guide will help you migrate from Locomotive Scroll v4 to v5. Version 5 is a complete rewrite built on ",(0,i.jsx)(s.a,{href:"https://github.com/darkroomengineering/lenis",children:"Lenis"}),", offering better performance, smaller bundle size, and improved TypeScript support."]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsx)(s.p,{children:"Locomotive Scroll v5 is simpler and more performant than v4, but it requires some changes to your code. Take your time to understand the new patterns."})}),"\n",(0,i.jsx)(s.h2,{id:"overview-of-changes",children:"Overview of Changes"}),"\n",(0,i.jsx)(s.h3,{id:"whats-new",children:"What's New"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Built on Lenis"})," \u2014 Modern smooth scroll engine instead of Virtual Scroll"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Smaller Bundle"})," \u2014 9.55kB (v5) vs ~12.1kB (v4) gzipped"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"TypeScript First"})," \u2014 Fully typed with better autocomplete"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Simplified API"})," \u2014 Fewer options, clearer patterns"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Better Performance"})," \u2014 Dual Intersection Observer strategy"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Custom Scroll Containers"})," \u2014 Support for contained scrolling"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Native Events"})," \u2014 CustomEvents instead of ModularJS"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"whats-removed",children:"What's Removed"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:"ModularJS support"})," \u2014 Use native CustomEvents instead"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"data-scroll-container"})})," \u2014 No longer required"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"data-scroll-section"})})," \u2014 No longer needed for performance"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:"Custom scrollbar"})," \u2014 Use Lenis scrollbar or native scrollbar"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"data-scroll-sticky"})})," \u2014 Use CSS ",(0,i.jsx)(s.code,{children:"position: sticky"})," instead"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"data-scroll-delay"})})," \u2014 No longer available"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"data-scroll-direction"})})," \u2014 Parallax follows scroll orientation"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"data-scroll-target"})})," \u2014 No longer available"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(s.h3,{id:"v4",children:"v4"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"npm install locomotive-scroll@4.1.4\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5",children:"v5"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"npm install locomotive-scroll\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,i.jsx)(s.h3,{id:"v4-required-container",children:"v4: Required Container"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:"<div data-scroll-container>\n    <div data-scroll-section>\n        <h1 data-scroll>Hey</h1>\n    </div>\n</div>\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import LocomotiveScroll from 'locomotive-scroll';\n\nconst scroll = new LocomotiveScroll({\n    el: document.querySelector('[data-scroll-container]'),\n    smooth: true\n});\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-simpler-setup",children:"v5: Simpler Setup"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:"<main>\n    <h1 data-scroll>Hey</h1>\n</main>\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import LocomotiveScroll from 'locomotive-scroll';\n\nconst scroll = new LocomotiveScroll();\n"})}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsxs)(s.p,{children:["In v5, smooth scrolling is enabled by default through Lenis. No need for ",(0,i.jsx)(s.code,{children:"data-scroll-container"})," or ",(0,i.jsx)(s.code,{children:"data-scroll-section"}),"."]})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"instance-options",children:"Instance Options"}),"\n",(0,i.jsx)(s.h3,{id:"v4--v5-mapping",children:"v4 \u2192 v5 Mapping"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"v4 Option"}),(0,i.jsx)(s.th,{children:"v5 Equivalent"}),(0,i.jsx)(s.th,{children:"Notes"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"el"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"lenisOptions.wrapper"})}),(0,i.jsxs)(s.td,{children:["Now inside ",(0,i.jsx)(s.code,{children:"lenisOptions"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"smooth"})}),(0,i.jsx)(s.td,{children:"\u2705 Always enabled"}),(0,i.jsx)(s.td,{children:"Smooth scrolling is default behavior"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"direction"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"lenisOptions.orientation"})}),(0,i.jsxs)(s.td,{children:["Values: ",(0,i.jsx)(s.code,{children:"'vertical'"})," or ",(0,i.jsx)(s.code,{children:"'horizontal'"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"lerp"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"lenisOptions.lerp"})}),(0,i.jsxs)(s.td,{children:["Same concept, inside ",(0,i.jsx)(s.code,{children:"lenisOptions"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"multiplier"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"lenisOptions.wheelMultiplier"})}),(0,i.jsx)(s.td,{children:"Renamed for clarity"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"touchMultiplier"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"lenisOptions.touchMultiplier"})}),(0,i.jsxs)(s.td,{children:["Same, inside ",(0,i.jsx)(s.code,{children:"lenisOptions"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"class"})}),(0,i.jsx)(s.td,{children:"\u274c Removed"}),(0,i.jsxs)(s.td,{children:["Use ",(0,i.jsx)(s.code,{children:"data-scroll-class"})," attribute instead"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"offset"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"triggerRootMargin"})}),(0,i.jsx)(s.td,{children:"Now uses IntersectionObserver rootMargin format"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"repeat"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-repeat"})}),(0,i.jsx)(s.td,{children:"Now per-element attribute"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"initClass"})}),(0,i.jsx)(s.td,{children:"\u274c Removed"}),(0,i.jsx)(s.td,{children:"No longer needed"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"scrollingClass"})}),(0,i.jsx)(s.td,{children:"\u274c Removed"}),(0,i.jsx)(s.td,{children:"Use scroll event to detect scrolling"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"getDirection"})}),(0,i.jsx)(s.td,{children:"\u2705 Available"}),(0,i.jsxs)(s.td,{children:["Access via ",(0,i.jsx)(s.code,{children:"lenisInstance.direction"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"getSpeed"})}),(0,i.jsx)(s.td,{children:"\u2705 Available"}),(0,i.jsxs)(s.td,{children:["Access via ",(0,i.jsx)(s.code,{children:"lenisInstance.velocity"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"scrollbarContainer"})}),(0,i.jsx)(s.td,{children:"\u274c Removed"}),(0,i.jsx)(s.td,{children:"Use Lenis scrollbar or native"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"scrollbarClass"})}),(0,i.jsx)(s.td,{children:"\u274c Removed"}),(0,i.jsx)(s.td,{children:"Use Lenis scrollbar or native"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"v4-example",children:"v4 Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"const scroll = new LocomotiveScroll({\n    el: document.querySelector('[data-scroll-container]'),\n    smooth: true,\n    direction: 'vertical',\n    lerp: 0.1,\n    multiplier: 1,\n    class: 'is-inview',\n    scrollbarClass: 'c-scrollbar'\n});\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-equivalent",children:"v5 Equivalent"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"const scroll = new LocomotiveScroll({\n    lenisOptions: {\n        orientation: 'vertical',\n        lerp: 0.1,\n        wheelMultiplier: 1,\n    }\n});\n\n// Access Lenis directly for more control\nconsole.log(scroll.lenisInstance.direction); // Get direction\nconsole.log(scroll.lenisInstance.velocity);  // Get speed\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"data-attributes",children:"Data Attributes"}),"\n",(0,i.jsx)(s.h3,{id:"removed-attributes",children:"Removed Attributes"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"v4 Attribute"}),(0,i.jsx)(s.th,{children:"v5 Alternative"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-container"})}),(0,i.jsx)(s.td,{children:"\u274c Remove it (not needed)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-section"})}),(0,i.jsx)(s.td,{children:"\u274c Remove it (not needed)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-sticky"})}),(0,i.jsxs)(s.td,{children:["Use CSS ",(0,i.jsx)(s.code,{children:"position: sticky"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-delay"})}),(0,i.jsx)(s.td,{children:"\u274c Not available"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-direction"})}),(0,i.jsx)(s.td,{children:"\u274c Follows scroll orientation"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-target"})}),(0,i.jsx)(s.td,{children:"\u274c Not available"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"modified-attributes",children:"Modified Attributes"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Attribute"}),(0,i.jsx)(s.th,{children:"v4 Behavior"}),(0,i.jsx)(s.th,{children:"v5 Behavior"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-speed"})}),(0,i.jsx)(s.td,{children:"Parallax effect with arbitrary values"}),(0,i.jsxs)(s.td,{children:["\u2705 ",(0,i.jsx)(s.strong,{children:"Recalculated based on scroll container size"})," (see details below)"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-call"})}),(0,i.jsx)(s.td,{children:"Triggers ModularJS method"}),(0,i.jsxs)(s.td,{children:["Now triggers ",(0,i.jsx)(s.strong,{children:"native CustomEvent"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-offset"})}),(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:'"bottom,top"'})," format"]}),(0,i.jsx)(s.td,{children:"\u2705 Same format"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-position"})}),(0,i.jsx)(s.td,{children:"Based on window position"}),(0,i.jsxs)(s.td,{children:["Now based on ",(0,i.jsx)(s.strong,{children:"Lenis scroll container"})," position"]})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"new-attributes",children:"New Attributes"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Attribute"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-css-progress"})}),(0,i.jsxs)(s.td,{children:["Adds ",(0,i.jsx)(s.code,{children:"--progress"})," CSS variable (0-1)"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-event-progress"})}),(0,i.jsx)(s.td,{children:"Emits progress via CustomEvent"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data-scroll-enable-touch-speed"})}),(0,i.jsx)(s.td,{children:"Enable parallax on touch devices"})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"parallax",children:"Parallax"}),"\n",(0,i.jsx)(s.h3,{id:"v4-1",children:"v4"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<div data-scroll data-scroll-speed="2">\n    Fast parallax\n</div>\n'})}),"\n",(0,i.jsx)(s.h3,{id:"v5-1",children:"v5"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'\x3c!-- Parallax disabled on touch by default --\x3e\n<div data-scroll data-scroll-speed=".5">\n    Fast parallax (desktop only)\n</div>\n\n\x3c!-- Enable on touch devices --\x3e\n<div data-scroll data-scroll-speed=".5" data-scroll-enable-touch-speed>\n    Fast parallax (all devices)\n</div>\n'})}),"\n",(0,i.jsx)(s.admonition,{title:"Key Changes",type:"warning",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Parallax is automatically disabled on touch devices in v5"})," to use native scrolling. Use ",(0,i.jsx)(s.code,{children:"data-scroll-enable-touch-speed"})," to override this behavior."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Speed calculation completely redesigned"})," - Now based on scroll container size, not arbitrary values."]}),"\n"]})}),"\n",(0,i.jsxs)(s.h3,{id:"how-data-scroll-speed-works-in-v5",children:["How ",(0,i.jsx)(s.code,{children:"data-scroll-speed"})," Works in v5"]}),"\n",(0,i.jsxs)(s.p,{children:["The parallax calculation has been ",(0,i.jsx)(s.strong,{children:"completely redesigned"})," in v5 to be more predictable and based on the scroll container size."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Formula:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"translateValue = progress \xd7 containerSize \xd7 speed \xd7 -1\n"})}),"\n",(0,i.jsx)(s.p,{children:"Where:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"containerSize"})," = Height (vertical) or width (horizontal) of Lenis scroll container"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"progress"})," ranges from ",(0,i.jsx)(s.code,{children:"-1"})," to ",(0,i.jsx)(s.code,{children:"1"})," for normal elements"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"progress"})," ranges from ",(0,i.jsx)(s.code,{children:"0"})," to ",(0,i.jsx)(s.code,{children:"1"})," for elements visible on page load (in fold)"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Examples:"})}),"\n",(0,i.jsxs)(s.p,{children:["With ",(0,i.jsx)(s.code,{children:'data-scroll-speed="1"'})," and vertical scrolling:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Normal element"}),": Moves from ",(0,i.jsx)(s.code,{children:"+containerHeight"})," to ",(0,i.jsx)(s.code,{children:"-containerHeight"})," (total displacement = 2\xd7 container height)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"In-fold element"}),": Moves from ",(0,i.jsx)(s.code,{children:"0"})," to ",(0,i.jsx)(s.code,{children:"-containerHeight"})," (total displacement = 1\xd7 container height)"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["With ",(0,i.jsx)(s.code,{children:'data-scroll-speed="0.5"'}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Normal element"}),": Moves from ",(0,i.jsx)(s.code,{children:"+0.5\xd7containerHeight"})," to ",(0,i.jsx)(s.code,{children:"-0.5\xd7containerHeight"})," (total = 1\xd7 container height)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"In-fold element"}),": Moves from ",(0,i.jsx)(s.code,{children:"0"})," to ",(0,i.jsx)(s.code,{children:"-0.5\xd7containerHeight"})," (total = 0.5\xd7 container height)"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["With ",(0,i.jsx)(s.code,{children:'data-scroll-speed="-1"'})," (reversed):"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Normal element"}),": Moves from ",(0,i.jsx)(s.code,{children:"-containerHeight"})," to ",(0,i.jsx)(s.code,{children:"+containerHeight"})," (opposite direction)"]}),"\n"]}),"\n",(0,i.jsxs)(s.admonition,{title:"Migration Tip",type:"tip",children:[(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"v4 to v5 speed conversion:"})}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"v4 speeds were arbitrary values"}),"\n",(0,i.jsx)(s.li,{children:"v5 speeds are relative to container size"}),"\n",(0,i.jsx)(s.li,{children:"Start with smaller values (0.1 to 0.5) and adjust based on container size"}),"\n",(0,i.jsx)(s.li,{children:"Test with different viewport sizes since it's now proportional"}),"\n"]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"events--callbacks",children:"Events & Callbacks"}),"\n",(0,i.jsx)(s.h3,{id:"v4-modularjs-integration",children:"v4: ModularJS Integration"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<div data-scroll data-scroll-call="myMethod, MyModule">\n    Trigger\n</div>\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"scroll.on('call', func => {\n    this.call(...func); // ModularJS\n});\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-native-customevents",children:"v5: Native CustomEvents"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<div data-scroll data-scroll-call="videoTrigger">\n    Trigger\n</div>\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"window.addEventListener('videoTrigger', (e) => {\n    const { target, way, from } = e.detail;\n    // way: 'enter' | 'leave'\n    // from: 'start' | 'end'\n\n    if (way === 'enter') {\n        target.querySelector('video').play();\n    }\n});\n"})}),"\n",(0,i.jsx)(s.admonition,{title:"Migration Tip",type:"tip",children:(0,i.jsxs)(s.p,{children:["Replace all ModularJS ",(0,i.jsx)(s.code,{children:"data-scroll-call"})," patterns with native CustomEvent listeners. It's simpler and has no dependencies!"]})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"scroll-events",children:"Scroll Events"}),"\n",(0,i.jsx)(s.h3,{id:"v4-2",children:"v4"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"scroll.on('scroll', (args) => {\n    console.log(args.scroll.y);\n    console.log(args.direction);\n    console.log(args.speed);\n});\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-2",children:"v5"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"const scroll = new LocomotiveScroll({\n    scrollCallback: ({ scroll, velocity, direction, progress }) => {\n        console.log(scroll);     // Current scroll position\n        console.log(velocity);   // Scroll speed\n        console.log(direction);  // 1 (down/right), -1 (up/left), 0 (stopped)\n        console.log(progress);   // 0 to 1\n    }\n});\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"progress-tracking",children:"Progress Tracking"}),"\n",(0,i.jsxs)(s.h3,{id:"v4-using-data-scroll-id",children:["v4: Using ",(0,i.jsx)(s.code,{children:"data-scroll-id"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<h1 data-scroll data-scroll-id="hero">Hero</h1>\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"scroll.on('scroll', (args) => {\n    if (args.currentElements['hero']) {\n        let progress = args.currentElements['hero'].progress;\n        console.log(progress); // 0 to 1\n    }\n});\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-using-progress-events",children:"v5: Using Progress Events"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<h1 data-scroll data-scroll-event-progress="heroProgress">Hero</h1>\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"window.addEventListener('heroProgress', (e) => {\n    console.log(e.detail.progress); // 0 to 1\n});\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-using-css-variables",children:"v5: Using CSS Variables"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:"<h1 data-scroll data-scroll-css-progress>Hero</h1>\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-css",children:"[data-scroll-css-progress] {\n    opacity: calc(var(--progress) * 1);\n    transform: translateY(calc((1 - var(--progress)) * 100px));\n}\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(s.h3,{id:"updated-methods",children:"Updated Methods"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Method"}),(0,i.jsx)(s.th,{children:"v4"}),(0,i.jsx)(s.th,{children:"v5"}),(0,i.jsx)(s.th,{children:"Notes"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"destroy()"})}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"Same API"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"start()"})}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"Same API"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"stop()"})}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"Same API"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"scrollTo(target)"})}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"Delegated to Lenis"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"update()"})}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsxs)(s.td,{children:["\u274c Renamed to ",(0,i.jsx)(s.code,{children:"resize()"})]}),(0,i.jsx)(s.td,{children:"Manual resize trigger"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"init()"})}),(0,i.jsx)(s.td,{children:"\u2705"}),(0,i.jsx)(s.td,{children:"\u274c Removed"}),(0,i.jsx)(s.td,{children:"No longer needed"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"v4-3",children:"v4"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"scroll.update();\nscroll.destroy();\nscroll.init(); // Reinitialize\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-3",children:"v5"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"scroll.resize();  // Rarely needed (auto-synced with Lenis)\nscroll.destroy();\n// No init() - create new instance instead\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"sticky-elements",children:"Sticky Elements"}),"\n",(0,i.jsxs)(s.h3,{id:"v4-using-data-scroll-sticky",children:["v4: Using ",(0,i.jsx)(s.code,{children:"data-scroll-sticky"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<div data-scroll data-scroll-sticky data-scroll-target="#target">\n    Sticky element\n</div>\n\n<div id="target">Target</div>\n'})}),"\n",(0,i.jsxs)(s.h3,{id:"v5-use-css-position-sticky",children:["v5: Use CSS ",(0,i.jsx)(s.code,{children:"position: sticky"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<div class="sticky-element">\n    Sticky element\n</div>\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-css",children:".sticky-element {\n    position: sticky;\n    top: 0;\n}\n"})}),"\n",(0,i.jsx)(s.admonition,{title:"Why?",type:"info",children:(0,i.jsxs)(s.p,{children:["CSS ",(0,i.jsx)(s.code,{children:"position: sticky"})," is performant, native, and doesn't require JavaScript. v5 removed custom sticky implementation in favor of the native solution."]})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"custom-scroll-containers",children:"Custom Scroll Containers"}),"\n",(0,i.jsx)(s.h3,{id:"v4-not-supported",children:"v4: Not Supported"}),"\n",(0,i.jsx)(s.p,{children:"In v4, you could only do full-page scrolling."}),"\n",(0,i.jsx)(s.h3,{id:"v5-fully-supported",children:"v5: Fully Supported"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"const scroll = new LocomotiveScroll({\n    lenisOptions: {\n        wrapper: document.querySelector('.scroll-container'),\n        content: document.querySelector('.scroll-content'),\n    },\n});\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<div class="scroll-container" style="height: 100vh; overflow: hidden;">\n    <div class="scroll-content">\n        <div data-scroll data-scroll-speed="0.5">Parallax works here too!</div>\n    </div>\n</div>\n'})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"performance-improvements",children:"Performance Improvements"}),"\n",(0,i.jsx)(s.h3,{id:"v4-performance-patterns",children:"v4 Performance Patterns"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:"\x3c!-- Recommended: Split into sections for better performance --\x3e\n<div data-scroll-container>\n    <div data-scroll-section>\n        \x3c!-- Content here --\x3e\n    </div>\n    <div data-scroll-section>\n        \x3c!-- More content --\x3e\n    </div>\n</div>\n"})}),"\n",(0,i.jsx)(s.h3,{id:"v5-performance-automatic",children:"v5 Performance (Automatic)"}),"\n",(0,i.jsxs)(s.p,{children:["v5 uses a ",(0,i.jsx)(s.strong,{children:"dual Intersection Observer strategy"})," that automatically optimizes performance:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Trigger IO"})," \u2014 For simple in-view detection (classes, callbacks)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"RAF IO"})," \u2014 For continuous animations (parallax, progress)"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Elements only subscribe to RAF when:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["They're ",(0,i.jsx)(s.strong,{children:"visible"})," (detected by IO)"]}),"\n",(0,i.jsxs)(s.li,{children:["They need ",(0,i.jsx)(s.strong,{children:"continuous updates"})," (parallax, progress tracking)"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"No manual optimization needed!"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"complete-migration-checklist",children:"Complete Migration Checklist"}),"\n",(0,i.jsx)(s.h3,{id:"html-changes",children:"HTML Changes"}),"\n",(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove all ",(0,i.jsx)(s.code,{children:"data-scroll-container"})," attributes"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove all ",(0,i.jsx)(s.code,{children:"data-scroll-section"})," attributes"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,i.jsx)(s.code,{children:"data-scroll-sticky"})," \u2192 use CSS ",(0,i.jsx)(s.code,{children:"position: sticky"})]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,i.jsx)(s.code,{children:"data-scroll-delay"})," \u2192 no replacement"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,i.jsx)(s.code,{children:"data-scroll-direction"})," \u2192 follows scroll orientation"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,i.jsx)(s.code,{children:"data-scroll-target"})," \u2192 no replacement"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update ModularJS ",(0,i.jsx)(s.code,{children:"data-scroll-call"})," \u2192 use simple event names"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Consider adding ",(0,i.jsx)(s.code,{children:"data-scroll-enable-touch-speed"})," for mobile parallax"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"javascript-changes",children:"JavaScript Changes"}),"\n",(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,i.jsx)(s.code,{children:"el"})," option \u2192 use ",(0,i.jsx)(s.code,{children:"lenisOptions.wrapper"})," if needed"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,i.jsx)(s.code,{children:"smooth"})," option \u2192 always enabled"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Rename ",(0,i.jsx)(s.code,{children:"direction"})," \u2192 ",(0,i.jsx)(s.code,{children:"lenisOptions.orientation"})]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Move scroll options into ",(0,i.jsx)(s.code,{children:"lenisOptions"})," object"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Replace ",(0,i.jsx)(s.code,{children:"scroll.on('call', ...)"})," \u2192 ",(0,i.jsx)(s.code,{children:"window.addEventListener(eventName, ...)"})]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Replace ",(0,i.jsx)(s.code,{children:"scroll.on('scroll', ...)"})," \u2192 ",(0,i.jsx)(s.code,{children:"scrollCallback"})," option"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Replace ",(0,i.jsx)(s.code,{children:"scroll.update()"})," \u2192 ",(0,i.jsx)(s.code,{children:"scroll.resize()"})," (rarely needed)"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove ",(0,i.jsx)(s.code,{children:"scroll.init()"})," \u2192 recreate instance instead"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove custom scrollbar code \u2192 use native or Lenis scrollbar"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"css-changes",children:"CSS Changes"}),"\n",(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Remove locomotive-scroll v4 CSS"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Add locomotive-scroll v5 CSS (minimal)"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Replace sticky elements \u2192 use ",(0,i.jsx)(s.code,{children:"position: sticky"})]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update any custom scrollbar styles \u2192 use Lenis scrollbar"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"example-complete-v4-to-v5-migration",children:"Example: Complete v4 to v5 Migration"}),"\n",(0,i.jsx)(s.h3,{id:"before-v4",children:"Before (v4)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<div data-scroll-container>\n    <div data-scroll-section>\n        <h1 data-scroll data-scroll-id="hero">Hero</h1>\n        <div data-scroll data-scroll-speed="2">Parallax</div>\n        <div data-scroll data-scroll-call="videoPlay, VideoModule">Video</div>\n        <div data-scroll-sticky data-scroll-target="#end">Sticky</div>\n    </div>\n    <div id="end" data-scroll-section>End</div>\n</div>\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import LocomotiveScroll from 'locomotive-scroll';\n\nconst scroll = new LocomotiveScroll({\n    el: document.querySelector('[data-scroll-container]'),\n    smooth: true,\n    direction: 'vertical',\n    lerp: 0.1,\n    class: 'is-inview'\n});\n\nscroll.on('scroll', (args) => {\n    if (args.currentElements['hero']) {\n        console.log(args.currentElements['hero'].progress);\n    }\n});\n\nscroll.on('call', func => {\n    this.call(...func); // ModularJS\n});\n"})}),"\n",(0,i.jsx)(s.h3,{id:"after-v5",children:"After (v5)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-html",children:'<main>\n    <h1 data-scroll data-scroll-event-progress="heroProgress">Hero</h1>\n    <div data-scroll data-scroll-speed="2">Parallax</div>\n    <div data-scroll data-scroll-call="videoPlay">Video</div>\n    <div class="sticky">Sticky</div>\n    <div>End</div>\n</main>\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import LocomotiveScroll from 'locomotive-scroll';\n\nconst scroll = new LocomotiveScroll({\n    lenisOptions: {\n        orientation: 'vertical',\n        lerp: 0.1,\n    },\n    scrollCallback: ({ scroll, velocity, direction, progress }) => {\n        // Global scroll callback if needed\n    }\n});\n\n// Progress tracking\nwindow.addEventListener('heroProgress', (e) => {\n    console.log(e.detail.progress);\n});\n\n// Video callback\nwindow.addEventListener('videoPlay', (e) => {\n    const { target, way } = e.detail;\n    if (way === 'enter') {\n        target.querySelector('video').play();\n    }\n});\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-css",children:".sticky {\n    position: sticky;\n    top: 0;\n}\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Check the ",(0,i.jsx)(s.a,{href:"/documentation/options",children:"documentation"})," for full API reference"]}),"\n",(0,i.jsxs)(s.li,{children:["Review ",(0,i.jsx)(s.a,{href:"/examples",children:"examples"})," for common patterns"]}),"\n",(0,i.jsxs)(s.li,{children:["Open an issue on ",(0,i.jsx)(s.a,{href:"https://github.com/locomotivemtl/locomotive-scroll/issues",children:"GitHub"})," for bugs"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Happy scrolling with v5! \ud83d\ude80"})})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,s,l){l.d(s,{R:()=>d,x:()=>c});var n=l(6540);const i={},r=n.createContext(i);function d(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);